<!doctype html>
<html lang="en" dir="ltr">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Site Sales - Portfolio</title>

   <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/bootstrap/bootstrap.css') }}">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

   
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js" charset="utf-8"></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js'></script>


   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/daterangepicker.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/fontawesome.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/footable.standalone.min.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/jquery-jvectormap-2.0.5.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/jquery.mCustomScrollbar.min.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/leaflet.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/line-awesome.min.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/magnific-popup.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/MarkerCluster.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/MarkerCluster.Default.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/select2.min.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/slick.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/star-rating-svg.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/trumbowyg.min.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendor_assets/css/wickedpicker.min.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon.png') }}">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@iconscout/unicons@4.0.8/css/line.min.css">

   <!-- endinject -->





</head>

<body class="layout-light side-menu">
   <div class="mobile-search">
      <form action="/" class="search-form">
         <img src="{{ url_for('static', filename='img/svg/search.svg') }}" alt="search" class="svg">
         <input class="form-control me-sm-2 box-shadow-none" type="search" placeholder="Search..." aria-label="Search">
      </form>
   </div>
   <div class="mobile-author-actions"></div>
   <header class="header-top">
      <nav class="navbar navbar-light">
         <div class="navbar-left">
            <div class="logo-area">
               <a class="navbar-brand" href="index.html">
                  <h1> PORTFOLIO </h1>
               </a>
               <a href="#" class="sidebar-toggle">
                  <img class="svg" src="{{ url_for('static', filename='img/svg/align-center-alt.svg') }}" alt="img"></a>
            </div>
            <div class="top-menu">

               <div class="hexadash-top-menu position-relative">
               <ul class="sidebar_nav">
                  <li class="has-child">
                     <a href="#" class="">
                        <span class="nav-icon uil uil-create-dashboard"></span>
                        <span class="menu-text">Reporting</span>
                        <span class="toggle-icon"></span>
                     </a>
                     <ul>
                        <li class="">
                            <a href="/">Sales</a>
                        </li>
                        <li class="">
                           <a href="/inventory">Inventory</a>
                        </li>
                     </ul>
                  </li>
               </ul>
               </div>

            </div>
         </div>
      </nav>
   </header>
   <main class="main-content">

      <div class="sidebar-wrapper">
         <div class="sidebar sidebar-collapse" id="sidebar">
            <div class="sidebar__menu-group">
               <ul class="sidebar_nav">
                  <li class="has-child">
                     <a href="#" class="">
                        <span class="nav-icon uil uil-create-dashboard"></span>
                        <span class="menu-text">Reporting</span>
                        <span class="toggle-icon"></span>
                     </a>
                     <ul>
                        <li class="">
                            <a href="/">Sales</a>
                        </li>
                        <li class="">
                           <a href="/inventory">Inventory</a>
                        </li>
                     </ul>
                  </li>
               </ul>
            </div>
         </div>
      </div>

      <div class="contents">

         <div class="demo2 mb-25 t-thead-bg">
            <div class="container-fluid">
               <div class="row ">
                  <div class="col-lg-12">

                     <div class="breadcrumb-main">
                        <h4 class="text-capitalize breadcrumb-title">Dashboard</h4>
                        <div class="breadcrumb-action justify-content-center flex-wrap">
                           <nav aria-label="breadcrumb">
                              <ol class="breadcrumb">
                                 <li class="breadcrumb-item"><a href="#"><i class="uil uil-estate"></i>Dashboard</a></li>
                                 <li class="breadcrumb-item active" aria-current="page">Sales</li>
                              </ol>
                           </nav>
                        </div>
                     </div>

                  </div>
                  <div class="col-lg-12">
                  <div class="ap-po-details ap-po-details--3 radius-xl d-flex py-25 filtersection">
                     <div class="overview-content overview-content3 b-none bg-none mb-lg-0 mb-20">
                         <!-- Flex Container for Both Dropdowns -->
                        <div class="d-flex justify-content-between">
                            <form id="dateForm" action="/" method="get" class="form-inline mb-3">
                                <div class="form-group mr-2">
                                    <label for="start_date" class="mr-2">Start Date:</label>
                                    <input type="date" id="start_date" name="start_date" value="{{ start_date }}" class="form-control">
                                </div>

                                <div class="form-group mr-2">
                                    <label for="end_date" class="mr-2">End Date:</label>
                                    <input type="date" id="end_date" name="end_date" value="{{ end_date }}" class="form-control">
                                </div>
                                <div class="form-group mr-2">
                                    <label for="brand" class="mr-2">Brand:</label>
                                    <select name="brand" id="brand" class="form-control">
                                        <option value="">All</option>
                                        <option value="Brand 1" {% if selected_brand == 'Brand 1' %}selected{% endif %}>Brand 1</option>
                                        <option value="Brand 2" {% if selected_brand == 'Brand 2' %}selected{% endif %}>Brand 2</option>
                                        <option value="Brand 3" {% if selected_brand == 'Brand 3' %}selected{% endif %}>Brand 3</option>
                                    </select>
                                </div>

                              <button type="submit" class="btn btn-primary filteredoptions">Filter</button>
                              <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle filteredoption2" type="button" id="timeDropdownButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Select Time Period
    </button>
    <div class="dropdown-menu" aria-labelledby="timeDropdownButton">
         <a class="dropdown-item" href="#" onclick="setThisWeek(); return false;">This Week</a>
         <a class="dropdown-item" href="#" onclick="setLastWeek(); return false;">Last Week</a>
        <a class="dropdown-item" href="#" onclick="setQuarter(1); return false;">Q1</a>
        <a class="dropdown-item" href="#" onclick="setQuarter(2); return false;">Q2</a>
        <a class="dropdown-item" href="#" onclick="setQuarter(3); return false;">Q3</a>
        <a class="dropdown-item" href="#" onclick="setQuarter(4); return false;">Q4</a>
        <a class="dropdown-item" href="#" onclick="setYear(2021); return false;">2021</a>
        <a class="dropdown-item" href="#" onclick="setYear(2022); return false;">2022</a>
        <a class="dropdown-item" href="#" onclick="setYear(2023); return false;">2023</a>
        <a class="dropdown-item" href="#" onclick="setYear(2024); return false;">2024</a>
        <a class="dropdown-item" href="#" onclick="setThisMonth(); return false;">This Month</a>
        <a class="dropdown-item" href="#" onclick="setLastMonth(); return false;">Last Month</a>
        <a class="dropdown-item" href="#" onclick="setLast3Months(); return false;">Last 3 Months</a>
    </div>
</div>
                          </form>

                         </div>
                     </div>
                   </div>
</div>



                  
                  <div class="col-xxl-2 col-sm-6 col-ssm-12 mb-25 card-header-bum">
                     <!-- Card 1  -->
                     <div class="ap-po-details ap-po-details--luodcy  overview-card-shape radius-xl d-flex justify-content-between">





                        <div class=" ap-po-details-content d-flex flex-wrap justify-content-between w-100">
<div class="ap-po-details">
<div class="ap-po-details__titlebar">
    <p>Total Sales</p>
    <h1>${{ total_sales_sum }}</h1>
    <div class="ap-po-details-time">

        <!-- Last Year Section -->
        <div>
            <span class="{% if percentage_diff|float > 0 %}color-success{% elif percentage_diff|float < 0 %}color-danger{% else %}color-neutral{% endif %}">
                <i class="las {% if percentage_diff|float > 0 %}la-arrow-up{% elif percentage_diff|float < 0 %}la-arrow-down{% endif %}"></i>
                <strong>{{ percentage_diff }}% - ${{total_sales_sum_prev_year}}</strong>
            </span>
            <small>Last year</small>
        </div>

        <!-- Two Years Ago Section -->

    </div>
</div>

</div>

                           <div class="ap-po-details__icon-area color-primary">
                              <i class="uil uil-arrow-growth"></i>
                           </div>
                        </div>

                     </div>
                     <!-- Card 1 End  -->
                  </div>






                  <div class="col-xxl-2 col-sm-6 col-ssm-12 mb-25 card-header-bum">
                     <!-- Card 1  -->
                     <div class="ap-po-details ap-po-details--luodcy  overview-card-shape radius-xl d-flex justify-content-between">





                        <div class=" ap-po-details-content d-flex flex-wrap justify-content-between w-100">



<div class="ap-po-details">
<div class="ap-po-details__titlebar">
    <p>Total QTY</p>
    <h1>{{ total_qty_sum }}</h1>
    <div class="ap-po-details-time">

        <!-- Last Year Section -->
<div class="year-section">
    <span class="{% if percentage_diff|float > 0 %}color-success{% elif percentage_diff|float < 0 %}color-danger{% else %}color-neutral{% endif %}">
        <i class="las {% if percentage_diff|float > 0 %}la-arrow-up{% elif percentage_diff|float < 0 %}la-arrow-down{% endif %}"></i>
        <strong>{{ percentage_qty_diff_prev_year }}% - {{total_qty_sum_prev_year}}</strong>
    </span>
    <small>Last year</small>
</div>


    </div>
</div>

                           <div class="ap-po-details__icon-area color-secondary">
                              <i class="uil uil-users-alt"></i>
                           </div>
                        </div>

                     </div>
                     <!-- Card 2 End  -->
                  </div>

</div>

                  <div class="col-xxl-2 col-sm-6 col-ssm-12 mb-25 card-header-bum">
                     <!-- Card 3 -->
                     <div class="ap-po-details ap-po-details--luodcy  overview-card-shape radius-xl d-flex justify-content-between">
                        <div class=" ap-po-details-content d-flex flex-wrap justify-content-between w-100">
                           <div class="ap-po-details__titlebar">
                              <p>Best Seller</p>
                              <h1>{{best_seller_sku }}</h1>
                              <div class="ap-po-details-time">
                                 <span class="color-danger"><i class="las la-tag"></i>
                                    <strong>{{best_seller_qty}}</strong></span>
                                 <small>DT Period</small>
                              </div>
                           </div>
                           <div class="ap-po-details__icon-area color-success">
                              <i class="uil uil-usd-circle"></i>
                           </div>
                        </div>

                     </div>
                     <!-- Card 3 End  -->
                  </div>

                  <div class="col-xxl-2 col-sm-6 col-ssm-12 mb-25 card-header-bum">
                     <!-- Card 4  -->
                     <div class="ap-po-details ap-po-details--luodcy  overview-card-shape radius-xl d-flex justify-content-between">
                        <div class=" ap-po-details-content d-flex flex-wrap justify-content-between w-100">
                           <div class="ap-po-details__titlebar">
                              <p>Best Seller Site</p>
                              <h1>{{best_seller_site }}</h1>
                              <div class="ap-po-details-time">
                                 <span class="color-success"><i class="las la-tag"></i>
                                    <strong>${{best_seller_site_sales }}</strong></span>
                                 <small>DT Period</small>
                              </div>
                           </div>
                           <div class="ap-po-details__icon-area color-info">
                              <i class="uil uil-ic:baseline-numbers"></i>
                           </div>
                        </div>

                     </div>
                     <!-- Card 4 End  -->
                  </div>


                  <div class="col-xxl-2 col-sm-6 col-ssm-12 mb-25 card-header-bum">
                     <!-- Card 4  -->
                     <div class="ap-po-details ap-po-details--luodcy  overview-card-shape radius-xl d-flex justify-content-between">
                        <div class=" ap-po-details-content d-flex flex-wrap justify-content-between w-100">
                           <div class="ap-po-details__titlebar">
                              <p>YTD Sale</p>
                              <h1>{{ytd_sales_sum }}</h1>
<div class="ap-po-details-time demk2">
    <div>
        <span class="color-success"><i class="las la-tag"></i>
            <strong>{{ last_year_sales_sum }}</strong>
        </span>
        <small>2023</small>
    </div>
</div>

                           </div>
                           <div class="ap-po-details__icon-area color-info">
                              <i class="uil uil-ic:baseline-numbers"></i>
                           </div>
                        </div>

                     </div>
                     <!-- Card 4 End  -->
                  </div>

                  <div class="col-xxl-6 mb-25">

                     <div class="card revenueChartTwo border-0">
                        <div class="card-header border-0">
                               <h6>Sales Revenue 
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle"></span>
        </a>
    </h6>
<!--                            <div class="card-extra">
                              <ul class="card-tab-links nav-tabs nav" role="tablist">
                                 <li>
                                    <a class="active" href="#tl_revenue-today" data-bs-toggle="tab" id="tl_revenue-today-tab" role="tab" aria-selected="false">YTD</a>
                                 </li>
                                 <li>
                                    <a href="#tl_revenue-week" data-bs-toggle="tab" id="tl_revenue-week-tab" role="tab" aria-selected="false">YTD2</a>
                                 </li>
                              </ul>
                           </div> -->
                        </div>
                        <!-- ends: .card-header -->
                        <div class="card-body pt-0 pb-40">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="tl_revenue-today" role="tabpanel" aria-labelledby="tl_revenue-today-tab">
                                 <div class="cashflow-display cashflow-display2 d-flex">

                                 </div>
                                 <!-- ends: .performance-stats -->

                                 <div class="wp-chart">
                                    <div class="parentContainer">


                                       <div>{{ graph_html|safe }}</div>


                                    </div>
                                 </div>

                                 <!-- ends: .performance-stats -->
                              </div>
                           </div>
                        </div>
                        <!-- ends: .card-body -->
                     </div>

                  </div>

                  <div class="col-xxl-6 mb-25">

                     <div class="card border-0 px-25 h-100">
                        <div class="card-header px-0 border-0">
                           <h6>Sales by sku        
                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
    </h6>
                        </div>
                        <div class="p-0 card-body">

{{sku_graph_html|safe }}

                        </div>
                     </div>

                  </div>

                  <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25">
                        <div class="card-header px-0 border-0">
                           <h6>By site
                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
    </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
                                 <div class="selling-table-wrap">
                                       
    {{site_graph_html |safe}}
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>

                  </div>

                  <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25">
                        <div class="card-header px-0 border-0">
                           <h6>By site YTD

                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
                                 <div class="selling-table-wrap">
                                       
    {{ ytd_site_graph_html | safe }}
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>

                  </div>
                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25">
                        <div class="card-header px-0 border-0">
                           <h6>By site this week</h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
                                 <div class="selling-table-wrap">
                                       
{{ latest_sales_graph_html | safe }}
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>

                  </div>
                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>By site

            <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Site Section">
                <span class="tooltip-circle red-circle"></span></a>

                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="selling-table-wrap">
    <!-- Latest Date Sales -->
    <div>
        <h1>Year to date</h1>
        {% for year, sales in same_period_sales_data.items() %}
            <p class="compact-p">{{ year }}: ${{ sales }}</p>
        {% endfor %}
    </div>
    <div>
        <h3>Weekly Sales Data</h3>
        {% for year, total_sales in weekly_sales_data.items() %}
            <p class="compact-p">{{ year }}: ${{ total_sales }}</p>
        {% endfor %}
    </div>
    <div>
        <h3>Same Period Quantity Data</h3>
        {% for year, quantity in weekly_qty_data.items() %}
            <p class="compact-p">{{ year }}: {{ quantity }}</p>
        {% endfor %}
    </div>
</div>

                              </div>
                           </div>
                        </div>
                     </div>

                  </div>
                  <div class="col-xxl-8 mb-25">

                     <div class="card border-0 px-25">
                        <div class="card-header px-0 border-0">
                           <h6>By site
            <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Site Section">
                <span class="tooltip-circle red-circle"></span></a>

                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today222" role="tabpanel" aria-labelledby="t_selling-today222-tab">
                                 <div class="selling-table-wrap selling-table-wrap--source">

<form action="{{ url_for('index') }}" method="post" style="margin: 10px;">
    <label for="site_dropdown" style="margin: 5px;">Site:</label>
    <select name="site_dropdown" id="site_dropdown" style="margin: 5px;">
        {% for site in site_list %}
        <option value="{{ site }}" {% if site == selected_site %} selected {% endif %}>{{ site }}</option>
        {% endfor %}
    </select>

    <label for="ytd_brand_dropdown" style="margin: 5px;">Brand:</label>
    <select name="ytd_brand_dropdown" id="ytd_brand_dropdown" style="margin: 5px;">
        {% for brand in brand_list %}
        <option value="{{ brand }}" {% if brand == selected_ytd_brand %} selected {% endif %}>{{ brand }}</option>
        {% endfor %}
    </select>

    <input type="submit" value="Show YTD Sales Chart" style="margin: 5px;">
</form>


<!-- Place to display the chart -->
<div id="ytd-sales-chart">
    {{ ytd_sales_chart | safe }}
</div>



                                 </div>
                              </div>
                              </div>
                           </div>
                        </div>
                     </div>
                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>By category

                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="selling-table-wrap">
<!-- Other contents -->
<div id="category-sales-chart">
    {{ category_sales_chart_html|safe }}
</div>

</div>

                              </div>
                           </div>
                        </div>
                     </div>

                  </div>

                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>By sub-category

                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="selling-table-wrap">
<!-- Other contents -->
<div id="subcategory-sales-chart">
    {{ subcategory_sales_chart_html|safe }}
</div>


</div>

                              </div>
                           </div>
                        </div>
                     </div>

                  </div>

                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>By sub-category

                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="selling-table-wrap">
<!-- Other contents -->
<div id="subcategory-sales-chart">
    {{ subcategory_sales_pie_chart_html|safe }}
</div>


</div>

                              </div>
                           </div>
                        </div>
                     </div>

                  </div>

                  <div class="col-lg-12">
                  <div class="ap-po-details ap-po-details--3 radius-xl d-flex py-25 filtersection">
                     <div class="overview-content overview-content3 b-none bg-none mb-lg-0 mb-20">
                         <!-- Flex Container for Both Dropdowns -->
                         <div class="d-flex justify-content-between">
<h1 class="centeredwhole">WHOLESALE</h1>
                         </div>
                     </div>
                   </div>
</div>



                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>Wholesale sales by sku
                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="table-responsive scrollable-table">
   <div class="search-sku-container">
    <input type="text" id="searchInput" placeholder="Search for SKU...">
</div>
<a href="{{ url_for('download_wholesale_skus', start_date=start_date, end_date=end_date, brand=selected_brand) }}" class="btn btn-primary">Download as CSV</a>



    <table class="table table--default table-borderless">
        <thead>
            <tr>
                <th>SKU</th>
                <th>Total Quantity</th>
            </tr>
        </thead>
        <tbody>
            {% for sku_data in best_seller_wholesale_skus_data %}
            <tr>
                <td>{{ sku_data['sku'] }}</td>
                <td>{{ sku_data['total_qty'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


                              </div>
                           </div>
                        </div>
                     </div>

                  </div>


                  <div class="col-xxl-8 mb-25">

                     <div class="card border-0 px-25">
                        <div class="card-header px-0 border-0">
                           <h6>By Wholesale SKU
                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today222" role="tabpanel" aria-labelledby="t_selling-today222-tab">
                                 <div class="selling-table-wrap selling-table-wrap--source">

<div class="chart-container">
    {{ bar_chart_html_wholesale|safe }}
</div>




                                 </div>
                              </div>
                              </div>
                           </div>
                        </div>
                     </div>


                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>Wholesale sold by selected

                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="chart-container">
    {{ pie_chart_html_category_wholesale|safe }}
</div>



                              </div>
                           </div>
                        </div>
                     </div>

                  </div>

                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>Wholesale sold this week
                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span></a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="chart-container">
    {{ latest_pie_chart_html|safe }}
</div>



                              </div>
                           </div>
                        </div>
                     </div>

                  </div>

                                    <div class="col-xxl-4 mb-25">

                     <div class="card border-0 px-25 card-site-info">
                        <div class="card-header px-0 border-0">
                           <h6>Wholesale sold by selected
                              <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Brand">
            <span class="tooltip-circle blue-circle"></span>
        </a>
        <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Filtered by Date">
            <span class="tooltip-circle green-circle"></span>
        </a>
                           </h6>
                        </div>
                        <div class="card-body p-0">
                           <div class="tab-content">
                              <div class="tab-pane fade active show" id="t_selling-today" role="tabpanel" aria-labelledby="t_selling-today-tab">
<div class="chart-container">
    {{ chart_html_pie_wholesale|safe }}
</div>



                              </div>
                           </div>
                        </div>
                     </div>

                  </div>
                  </div>

               </div>
               <!-- ends: .row -->
            </div>
         </div>


      </div>
      <footer class="footer-wrapper">
         <div class="footer-wrapper__inside">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-md-6">
                     <div class="footer-copyright">
                        <p><span>© 2023</span><a href="#">Portfolio // Hasan Emre Disli</a>
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </footer>
   </main>
   <div id="overlayer">
      <div class="loader-overlay">
         <div class="dm-spin-dots spin-lg">
            <span class="spin-dot badge-dot dot-primary"></span>
            <span class="spin-dot badge-dot dot-primary"></span>
            <span class="spin-dot badge-dot dot-primary"></span>
            <span class="spin-dot badge-dot dot-primary"></span>
         </div>
      </div>
   </div>
   <div class="overlay-dark-sidebar"></div>
   <div class="customizer-overlay"></div>

   <!-- Bootstrap Modal -->
<!-- Bootstrap Modal -->
<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabel">Modal Title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Content of the modal goes here...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>


$(document).ready(function(){
    $('[data-bs-toggle="tooltip"]').tooltip();
});
</script>

<script>
function setThisWeek() {
    const now = new Date();
    // Calculate the Thursday before the last Saturday
    const firstDayOfWeek = new Date(now);
    firstDayOfWeek.setDate(now.getDate() - 6);
    // Calculate the next Wednesday (6 days from the first day)
    const lastDayOfWeek = new Date(firstDayOfWeek);
    lastDayOfWeek.setDate(firstDayOfWeek.getDate() + 6);

    setDates(formatDate(firstDayOfWeek), formatDate(lastDayOfWeek));
}

function setLastWeek() {
    const now = new Date();
    // Calculate the Thursday of the week before last
    const firstDayOfLastWeek = new Date(now);
    firstDayOfLastWeek.setDate(now.getDate() - 13);
    // Calculate the Wednesday of that week (6 days from the first day)
    const lastDayOfLastWeek = new Date(firstDayOfLastWeek);
    lastDayOfLastWeek.setDate(firstDayOfLastWeek.getDate() + 6);

    setDates(formatDate(firstDayOfLastWeek), formatDate(lastDayOfLastWeek));
}

    function setQuarter(quarter) {
        const year = new Date().getFullYear();
        if (quarter === 1) {
            setDates(`${year}-01-01`, `${year}-03-31`);
        } else if (quarter === 2) {
            setDates(`${year}-04-01`, `${year}-06-30`);
        } else if (quarter === 3) {
            setDates(`${year}-07-01`, `${year}-09-30`);
        } else if (quarter === 4) {
            setDates(`${year}-10-01`, `${year}-12-31`);
        }
    }

    function setYear(year) {
        setDates(`${year}-01-01`, `${year}-12-31`);
    }

    function setThisMonth() {
        const now = new Date();
        const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);
        const endOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0);
        setDates(formatDate(startOfMonth), formatDate(endOfMonth));
    }

    function setLastMonth() {
        const now = new Date();
        const startOfLastMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);
        const endOfLastMonth = new Date(now.getFullYear(), now.getMonth(), 0);
        setDates(formatDate(startOfLastMonth), formatDate(endOfLastMonth));
    }

    function setLast3Months() {
        const now = new Date();
        const startOfPeriod = new Date(now.getFullYear(), now.getMonth() - 3, 1);
        const endOfPeriod = new Date();
        setDates(formatDate(startOfPeriod), formatDate(endOfPeriod));
    }

   function setDates(startDate, endDate) {
       const form = document.getElementById('dateForm');
       form.action = '/'; // Explicitly set the form's action
       document.getElementById('start_date').value = startDate;
       document.getElementById('end_date').value = endDate;
       form.submit();
   }


    function formatDate(date) {
        let d = new Date(date),
            month = '' + (d.getMonth() + 1),
            day = '' + d.getDate(),
            year = d.getFullYear();

        if (month.length < 2) 
            month = '0' + month;
        if (day.length < 2) 
            day = '0' + day;

        return [year, month, day].join('-');
    }
</script>


<script>
   document.getElementById('searchInput').addEventListener('keyup', function() {
    var searchQuery = this.value.toLowerCase();
    var tableRows = document.querySelectorAll('.table-responsive tbody tr');

    tableRows.forEach(function(row) {
        var skuCell = row.querySelector('td:first-child').textContent.toLowerCase();
        if (skuCell.indexOf(searchQuery) > -1) {
            row.style.display = '';
        } else {
            row.style.display = 'none';
        }
    });
});

</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery/jquery-3.5.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery/jquery-ui.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/accordion.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/apexcharts.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/autoComplete.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/Chart.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/daterangepicker.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/drawer.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/dynamicBadge.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/dynamicCheckbox.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/footable.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/google-chart.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery-jvectormap-2.0.5.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery-jvectormap-world-mill-en.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery.countdown.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery.filterizr.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery.magnific-popup.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery.peity.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/jquery.star-rating-svg.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/loader.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/message.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/moment.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/muuri.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/notification.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/popover.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/select2.full.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/slick.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/trumbowyg.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/vendor_assets/js/wickedpicker.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/apexmain.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/charts.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/drag-drop.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/footable.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/googlemap-init.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/icon-loader.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/jvectormap-init.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/leaflet-init.js') }}"></script>
<script src="{{ url_for('static', filename='assets/theme_assets/js/main.js') }}"></script>
<script src="https://unpkg.com/twemoji@latest/dist/twemoji.min.js" crossorigin="anonymous"></script>
<script type="module" src="https://unpkg.com/emoji-picker-element@latest"></script>



</body>

</html>